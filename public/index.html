<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Cidade Dorme</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <!-- Login Screen -->
    <div id="loginScreen">
      <div class="login-card">
        <h1>ğŸŒ™ Cidade Dorme ğŸŒ™</h1>
        <p class="subtitle">Um jogo de mistÃ©rio e deduÃ§Ã£o</p>
        <input type="text" id="nickInput" placeholder="Digite seu nome" maxlength="20" autocomplete="off">
        <button onclick="joinGame()" class="btn-primary">Entrar no Jogo</button>
        <div id="loginMessage" class="message hidden"></div>
      </div>
    </div>
    
    <!-- Game Screen -->
    <div id="gameScreen" class="hidden">
      <!-- Header Info -->
      <div class="game-header">
        <div class="header-top">
          <h1>ğŸŒ™ Cidade Dorme</h1>
          <button id="chatToggle" onclick="toggleChat()" class="btn-chat">
            ğŸ’¬ <span id="chatBadge" class="hidden">0</span>
          </button>
        </div>
        <div class="info-bar">
          <span class="info-item">ğŸ‘¤ <strong id="yourNick"></strong></span>
          <span class="info-item">ğŸ”¢ Rodada <strong id="currentRound">0</strong></span>
          <span class="info-item phase-indicator">
            <strong id="currentPhase">Aguardando</strong>
          </span>
        </div>
      </div>

      <!-- Full Screen Overlays -->
      <div id="gameStartOverlay" class="fullscreen-overlay hidden">
        <div class="overlay-content">
          <h2 class="pulse">ComeÃ§ando o jogo...</h2>
          <div class="loading-dots">
            <span></span><span></span><span></span>
          </div>
        </div>
      </div>

      <div id="roleRevealOverlay" class="fullscreen-overlay hidden">
        <div class="overlay-content">
          <h2>Seu papel Ã©:</h2>
          <div id="roleDisplay" class="role-display"></div>
          <p id="roleDescription" class="role-description"></p>
        </div>
      </div>

      <div id="nightOverlay" class="fullscreen-overlay night-overlay hidden">
        <div class="overlay-content">
          <h2 class="night-title">ğŸŒ™ A cidade dorme... ğŸŒ™</h2>
          <p class="night-subtitle">Aguarde enquanto as aÃ§Ãµes noturnas acontecem</p>
        </div>
      </div>

      <!-- Role Info (compact) -->
      <div id="roleInfo" class="role-info hidden">
        <span id="yourRole"></span>
      </div>
      
      <!-- Main Content -->
      <div id="mainContent" class="main-content">
        <!-- Phase Message -->
        <div id="phaseMessage" class="message hidden"></div>
        
        <!-- Players List -->
        <div class="card players-card">
          <h3>ğŸ‘¥ Jogadores (<span id="aliveCount">0</span>/<span id="playerCount">0</span> vivos)</h3>
          <div id="playersList" class="players-grid"></div>
          <button id="startButton" onclick="startGame()" class="btn-start hidden">
            ğŸ® Iniciar Jogo (mÃ­nimo 3 jogadores)
          </button>
        </div>
        
        <!-- Actions Panel -->
        <div id="actionsPanel" class="actions-panel hidden">
          <h3 id="actionsTitle" class="actions-title">AÃ§Ãµes</h3>
          <div id="actionButtons" class="action-buttons"></div>
        </div>

        <!-- Day Discussion Timer -->
        <div id="discussionTimer" class="discussion-timer hidden">
          <div class="timer-icon">â±ï¸</div>
          <div class="timer-content">
            <p>Tempo para discussÃ£o</p>
            <div class="timer-display"><span id="timerSeconds">10</span>s</div>
          </div>
        </div>

        <!-- Game End Screen -->
        <div id="gameEndScreen" class="game-end hidden">
          <div class="end-icon" id="endIcon">ğŸ‰</div>
          <h2 id="endTitle"></h2>
          <p id="endMessage"></p>
          <div id="rolesReveal" class="roles-reveal"></div>
          <button onclick="location.reload()" class="btn-primary">Jogar Novamente</button>
        </div>
      </div>
      
      <!-- Chat Panel (Sliding) -->
      <div id="chatPanel" class="chat-panel">
        <div class="chat-header">
          <h3>ğŸ’¬ Chat</h3>
          <button onclick="toggleChat()" class="btn-close">âœ•</button>
        </div>
        <div class="chat-messages" id="chatMessages"></div>
        <div class="chat-input-container">
          <input type="text" id="chatInput" placeholder="Digite sua mensagem..." maxlength="200" autocomplete="off">
          <button onclick="sendMessage()" class="btn-send">Enviar</button>
        </div>
      </div>
    </div>
  </div>
  
  <script src="/socket.io/socket.io.js"></script>
  <script src="game.js"></script>
</body>
</html>
